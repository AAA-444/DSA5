//Lab5a.c
#include <stdio.h> 
#include <math.h>
#define MAX 20 
char postfix[MAX];
struct stack { 
int top;
float str[MAX];
} s;
int isoperand(char x) { 
if(x >= '0' && x <= '9')
return 1;
else
}
return 0;
void push(float x) { 
if(s.top == MAX - 1) {
printf("Stack is full\nStack overflow\n"); 
return;
} else {
s.top++; 
s.str[s.top] = x;
}
}
float pop() {
if(s.top == -1) {
printf("Stack is empty\nStack Underflow\n"); 
return -1;
} else {
s.top--;
return s.str[s.top + 1];
}
}
float operate(float op1, float op2, char a) { 
switch(a) {
case '+' :
return op2 + op1;
case '-' :
return op2 - op1; 
case '*' :
return op2 * op1; 
case '/' :
return op2 / op1; 
case '%':
return (int)op2 % (int)op1; 
case '^' :
return pow(op2, op1); 
default:
printf("Error: Invalid operator %c\n", a); 
return 0;
}
}
int main() {
int i = 0;
printf("Enter the expression:"); 
scanf("%s", postfix);
float ans, op1, op2; 
while(postfix[i] != '\0') {
if(isoperand(postfix[i])) 
push(postfix[i] - 48);
else {
op1 = pop(); 
op2 = pop();
ans = operate(op1, op2, postfix[i]); 
push(ans);
printf("%.2f %c %.2f = %.2f\n", op2, postfix[i], op1, ans);
} 
i++;
}
printf("Result: %.2f", s.str[s.top]);
return 0;
}
